{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/andy/Documents/DubHacks/next-js-frontend/src/app/components/HomeNav.tsx"],"sourcesContent":["\"use client\";\nimport { useState } from \"react\";\nimport Link from \"next/link\";\nimport { FaHome, FaBookmark, FaUser, FaFeather } from \"react-icons/fa\";\n\nexport default function HomeNav() {\n    const [isOpen, setIsOpen] = useState(false);\n\n    return (\n        <div\n            className=\"fixed top-4 left-4 z-50\"\n            onMouseEnter={() => {\n                setIsOpen(true);\n            }}\n            onMouseLeave={() => {\n                setIsOpen(false);\n            }}\n        >\n            <button className=\"bg-[rgb(235,199,148)] text-[rgb(32,74,65)] p-3 rounded-full shadow-lg hover:bg-[rgb(106,132,146)] transition cursor-pointer\">\n                <Link href=\"/\">\n                    <FaHome size={24} />\n                </Link>\n            </button>\n\n            {isOpen && (\n                <div className=\"mt-2 bg-[rgb(106,132,146)] text-[rgb(232,215,194)] rounded-xl shadow-lg w-48 p-4 flex flex-col gap-3 cursor-pointer\">\n                <Link href=\"/\" className=\"flex items-center gap-2 p-2 rounded-xl hover:bg-[rgb(76,101,112)] transition\">\n                    <FaHome /> Home\n                </Link>\n                <Link href=\"/paint\" className=\"flex items-center gap-2 p-2 rounded-xl hover:bg-[rgb(76,101,112)] transition\">\n                    <FaFeather /> Paint\n                </Link>\n                <Link href=\"/saved\" className=\"flex items-center gap-2 p-2 rounded-xl hover:bg-[rgb(76,101,112)] transition\">\n                    <FaBookmark /> Saved\n                </Link>\n                <Link href=\"/profile\" className=\"flex items-center gap-2 p-2 rounded-xl hover:bg-[rgb(76,101,112)] transition\">\n                    <FaUser /> Profile\n                </Link>\n                </div>\n            )}\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAHA;;;;;AAKe,SAAS;IACpB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IAErC,qBACI,8OAAC;QACG,WAAU;QACV,cAAc;YACV,UAAU;QACd;QACA,cAAc;YACV,UAAU;QACd;;0BAEA,8OAAC;gBAAO,WAAU;0BACd,cAAA,8OAAC,uKAAI;oBAAC,MAAK;8BACP,cAAA,8OAAC,wJAAM;wBAAC,MAAM;;;;;;;;;;;;;;;;YAIrB,wBACG,8OAAC;gBAAI,WAAU;;kCACf,8OAAC,uKAAI;wBAAC,MAAK;wBAAI,WAAU;;0CACrB,8OAAC,wJAAM;;;;;4BAAG;;;;;;;kCAEd,8OAAC,uKAAI;wBAAC,MAAK;wBAAS,WAAU;;0CAC1B,8OAAC,2JAAS;;;;;4BAAG;;;;;;;kCAEjB,8OAAC,uKAAI;wBAAC,MAAK;wBAAS,WAAU;;0CAC1B,8OAAC,4JAAU;;;;;4BAAG;;;;;;;kCAElB,8OAAC,uKAAI;wBAAC,MAAK;wBAAW,WAAU;;0CAC5B,8OAAC,wJAAM;;;;;4BAAG;;;;;;;;;;;;;;;;;;;AAM9B","debugId":null}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":["file:///Users/andy/Documents/DubHacks/next-js-frontend/src/app/components/Canvas.tsx"],"sourcesContent":["// src/app/components/Canvas.tsx\n\n\"use client\";\nimport React, { useRef, useState, useEffect } from \"react\";\nimport { useRouter } from \"next/navigation\"; // <-- IMPORT useRouter\n\ntype BrushType =\n  | \"Sky\" | \"Mountain\" | \"Lake\" | \"Trees\" | \"Flowers\"\n  | \"Boulders\" | \"Waterfall\" | \"Path\" | \"Grass\" | \"Dirt\" | \"Eraser\";\n\n// This color map perfectly matches the one in your Python server\nconst brushColors: Record<BrushType, string> = {\n  Sky: \"rgb(179,229,252)\",\n  Mountain: \"rgb(97,115,97)\",\n  Lake: \"rgb(74,163,210)\",       // Backend knows as WATER_BODY\n  Trees: \"rgb(46,139,87)\",      // Backend knows as FOREST_TREES\n  Flowers: \"rgb(231,154,184)\",\n  Boulders: \"rgb(164,159,154)\",  // Backend knows as BOULDERS_CLIFF\n  Waterfall: \"rgb(137,214,255)\",\n  Path: \"rgb(191,168,147)\",      // Backend knows as PATH_ROAD\n  Grass: \"rgb(122,180,96)\",     // Backend knows as GRASS_FIELD\n  Dirt: \"rgb(137,115,96)\",       // Backend knows as EARTH_LAND\n  Eraser: \"rgb(179,229,252)\",    // Eraser paints the sky color\n};\n\nconst Canvas: React.FC = () => {\n  const canvasRef = useRef<HTMLCanvasElement | null>(null);\n  const [isPainting, setIsPainting] = useState(false);\n  const [brush, setBrush] = useState<BrushType>(\"Mountain\");\n  const [brushSize, setBrushSize] = useState(50);\n  const [lastPos, setLastPos] = useState<{ x: number; y: number } | null>(null);\n  const [isLoading, setIsLoading] = useState(false); // <-- NEW: Loading state\n  const router = useRouter(); // <-- NEW: Router for navigation\n\n  // (useEffect, getCursorPosition, startDrawing, draw, stopDrawing... \n  // ...all remain exactly the same as your file)\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (canvas) {\n      const ctx = canvas.getContext(\"2d\");\n      if (ctx) {\n        ctx.fillStyle = brushColors.Eraser;\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n        ctx.lineCap = \"round\";\n        ctx.lineJoin = \"round\";\n      }\n    }\n  }, []);\n\n  const getCursorPosition = (\n    e: React.MouseEvent<HTMLCanvasElement, MouseEvent>\n  ) => {\n    const canvas = canvasRef.current;\n    if (!canvas) return { x: 0, y: 0 };\n    const rect = canvas.getBoundingClientRect();\n    return {\n      x: e.clientX - rect.left,\n      y: e.clientY - rect.top,\n    };\n  };\n\n  const startDrawing = (e: React.MouseEvent<HTMLCanvasElement, MouseEvent>) => {\n    setIsPainting(true);\n    setLastPos(getCursorPosition(e));\n  };\n\n  const draw = (e: React.MouseEvent<HTMLCanvasElement, MouseEvent>) => {\n    if (!isPainting) return;\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const ctx = canvas.getContext(\"2d\");\n    if (!ctx) return;\n    const pos = getCursorPosition(e);\n    if (lastPos) {\n      ctx.beginPath();\n      ctx.moveTo(lastPos.x, lastPos.y);\n      ctx.lineTo(pos.x, pos.y);\n      ctx.lineWidth = brushSize;\n      ctx.strokeStyle =\n        brush === \"Eraser\" ? brushColors.Eraser : brushColors[brush];\n      ctx.globalCompositeOperation = \"source-over\";\n      ctx.stroke();\n      ctx.closePath();\n    }\n    setLastPos(pos);\n  };\n\n  const stopDrawing = () => {\n    setIsPainting(false);\n    setLastPos(null);\n  };\n\n  const clearCanvas = () => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const ctx = canvas.getContext(\"2d\");\n    if (!ctx) return;\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.fillStyle = brushColors.Eraser;\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n  };\n\n  // ==========================================================\n  // START: MODIFIED SUBMIT FUNCTION\n  // ==========================================================\n  const submitCanvas = async () => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    setIsLoading(true); // Start loading\n\n    // Save the sketch as a dataURL for the results page\n    const sketchDataURL = canvas.toDataURL(\"image/png\");\n    sessionStorage.setItem('userSketch', sketchDataURL);\n\n    // Convert canvas to a Blob (file)\n    canvas.toBlob(async (blob) => {\n      if (!blob) {\n        alert(\"Error creating image file.\");\n        setIsLoading(false);\n        return;\n      }\n\n      // Create FormData and append the file\n      const formData = new FormData();\n      formData.append(\"file\", blob, \"sketch.png\");\n\n      try {\n        // Send FormData to the proxy URL\n        const response = await fetch(\"/api/search\", {\n          method: \"POST\",\n          body: formData,\n          // No 'Content-Type' header, browser sets it for FormData\n        });\n\n        if (response.ok) {\n          const data = await response.json();\n          \n          // Store results in session storage to pass to the next page\n          sessionStorage.setItem('searchResults', JSON.stringify(data.results));\n          \n          // Redirect to the results page\n          router.push('/results');\n          \n        } else {\n          const errorData = await response.json();\n          alert(`Failed to submit: ${errorData.detail || 'Unknown error'}`);\n        }\n      } catch (error) {\n        console.error(\"Error submitting image:\", error);\n        alert(\"Error submitting image. Is the Python server running?\");\n      } finally {\n        setIsLoading(false); // Stop loading\n      }\n    }, \"image/png\");\n  };\n  // ==========================================================\n  // END: MODIFIED SUBMIT FUNCTION\n  // ==========================================================\n\n  const exportCanvas = () => {\n    // (This function remains unchanged)\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const dataURL = canvas.toDataURL(\"image/png\");\n    const link = document.createElement(\"a\");\n    link.href = dataURL;\n    link.download = \"painting.png\";\n    link.click();\n  };\n\n  return (\n    <div className=\"flex flex-col items-center p-4 space-y-4\">\n      <div className=\"flex flex-wrap justify-center gap-3 items-center\">\n        {(Object.keys(brushColors) as BrushType[]).map((type) => (\n          <button\n            key={type}\n            onClick={() => setBrush(type)}\n            className={`px-4 py-2 rounded-2xl shadow-md font-semibold transition-all ${\n              brush === type\n                ? \"bg-blue-500 text-white\"\n                : \"bg-gray-600 hover:bg-gray-700 cursor-pointer\"\n            }`}\n          >\n            {type}\n          </button>\n        ))}\n        {/* ... (Brush Size, Clear, and Export buttons remain the same) ... */}\n        <div className=\"flex items-center space-x-2\">\n          <label className=\"text-sm font-medium\">Size:</label>\n          <input\n            type=\"range\" min=\"10\" max=\"100\" value={brushSize}\n            onChange={(e) => setBrushSize(Number(e.target.value))}\n            className=\"w-24 cursor-pointer\"\n          />\n        </div>\n        <button\n          onClick={clearCanvas}\n          className=\"px-4 py-2 rounded-2xl bg-[rgb(223,84,86)] text-white font-semibold hover:bg-[rgb(187,58,61)] transition-all cursor-pointer\"\n        >\n          Clear\n        </button>\n        \n        {/* MODIFIED SUBMIT BUTTON */}\n        <button\n          onClick={submitCanvas}\n          disabled={isLoading} // <-- NEW: Disable when loading\n          className=\"px-4 py-2 rounded-2xl bg-[rgb(84,190,121)] text-white font-semibold hover:bg-[rgb(60,162,96)] transition-all cursor-pointer disabled:bg-gray-500\"\n        >\n          {isLoading ? \"Searching...\" : \"Submit\"}\n        </button>\n\n        <button\n          onClick={exportCanvas}\n          className=\"px-4 py-2 rounded-2xl bg-[rgb(235,195,117)] text-white font-semibold hover:bg-[rgb(216,175,87)] transition-all cursor-pointer\"\n        >\n          Export\n        </button>\n      </div>\n\n      <canvas\n        ref={canvasRef}\n        width={600}\n        height={600}\n        onMouseDown={startDrawing}\n        onMouseMove={draw}\n        onMouseUp={stopDrawing}\n        onMouseLeave={stopDrawing}\n        className=\"cursor-crosshair rounded-lg\"\n      />\n    </div>\n  );\n};\n\nexport default Canvas;"],"names":[],"mappings":"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","debugId":null}}]
}