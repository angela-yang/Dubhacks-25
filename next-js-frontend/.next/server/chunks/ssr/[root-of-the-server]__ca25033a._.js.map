{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/andy/Documents/DubHacks/next-js-frontend/src/app/components/HomeNav.tsx"],"sourcesContent":["\"use client\";\nimport { useState } from \"react\";\nimport Link from \"next/link\";\nimport { FaHome, FaBookmark, FaUser, FaFeather } from \"react-icons/fa\";\n\nexport default function HomeNav() {\n    const [isOpen, setIsOpen] = useState(false);\n\n    return (\n        <div\n            className=\"fixed top-4 left-4 z-50\"\n            onMouseEnter={() => {\n                setIsOpen(true);\n            }}\n            onMouseLeave={() => {\n                setIsOpen(false);\n            }}\n        >\n            <button className=\"bg-[rgb(235,199,148)] text-[rgb(32,74,65)] p-3 rounded-full shadow-lg hover:bg-[rgb(106,132,146)] transition cursor-pointer\">\n                <Link href=\"/\">\n                    <FaHome size={24} />\n                </Link>\n            </button>\n\n            {isOpen && (\n                <div className=\"mt-2 bg-[rgb(106,132,146)] text-[rgb(232,215,194)] rounded-xl shadow-lg w-48 p-4 flex flex-col gap-3 cursor-pointer\">\n                <Link href=\"/\" className=\"flex items-center gap-2 p-2 rounded-xl hover:bg-[rgb(76,101,112)] transition\">\n                    <FaHome /> Home\n                </Link>\n                <Link href=\"/paint\" className=\"flex items-center gap-2 p-2 rounded-xl hover:bg-[rgb(76,101,112)] transition\">\n                    <FaFeather /> Paint\n                </Link>\n                <Link href=\"/saved\" className=\"flex items-center gap-2 p-2 rounded-xl hover:bg-[rgb(76,101,112)] transition\">\n                    <FaBookmark /> Saved\n                </Link>\n                <Link href=\"/profile\" className=\"flex items-center gap-2 p-2 rounded-xl hover:bg-[rgb(76,101,112)] transition\">\n                    <FaUser /> Profile\n                </Link>\n                </div>\n            )}\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAHA;;;;;AAKe,SAAS;IACpB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IAErC,qBACI,8OAAC;QACG,WAAU;QACV,cAAc;YACV,UAAU;QACd;QACA,cAAc;YACV,UAAU;QACd;;0BAEA,8OAAC;gBAAO,WAAU;0BACd,cAAA,8OAAC,uKAAI;oBAAC,MAAK;8BACP,cAAA,8OAAC,wJAAM;wBAAC,MAAM;;;;;;;;;;;;;;;;YAIrB,wBACG,8OAAC;gBAAI,WAAU;;kCACf,8OAAC,uKAAI;wBAAC,MAAK;wBAAI,WAAU;;0CACrB,8OAAC,wJAAM;;;;;4BAAG;;;;;;;kCAEd,8OAAC,uKAAI;wBAAC,MAAK;wBAAS,WAAU;;0CAC1B,8OAAC,2JAAS;;;;;4BAAG;;;;;;;kCAEjB,8OAAC,uKAAI;wBAAC,MAAK;wBAAS,WAAU;;0CAC1B,8OAAC,4JAAU;;;;;4BAAG;;;;;;;kCAElB,8OAAC,uKAAI;wBAAC,MAAK;wBAAW,WAAU;;0CAC5B,8OAAC,wJAAM;;;;;4BAAG;;;;;;;;;;;;;;;;;;;AAM9B","debugId":null}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":["file:///Users/andy/Documents/DubHacks/next-js-frontend/src/app/results/page.tsx"],"sourcesContent":["// src/app/results/page.tsx\n\n\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\nimport Image from \"next/image\"; // Use Next.js Image for optimization\nimport HomeNav from \"../components/HomeNav\"; // Re-use your nav bar\n\n// This type MUST match the JSON response from your Python server\ninterface SearchResult {\n  id: string;\n  score: number;\n  original_image_url: string; // e.g., /images/original/hike_1.webp\n  segmentation_map_url: string; // e.g., /images/processed/hike_1_ui_map.png\n}\n\nexport default function ResultsPage() {\n  const [results, setResults] = useState<SearchResult[]>([]);\n  const [userSketch, setUserSketch] = useState<string | null>(null); // <-- NEW STATE\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    // On page load, read both items from session storage\n    const storedResults = sessionStorage.getItem(\"searchResults\");\n    const storedSketch = sessionStorage.getItem(\"userSketch\"); // <-- NEW\n\n    if (storedResults) {\n      setResults(JSON.parse(storedResults));\n    }\n    if (storedSketch) {\n      setUserSketch(storedSketch); // <-- NEW\n    }\n    setIsLoading(false);\n  }, []); // Empty dependency array ensures this runs only once on load\n\n  return (\n    <div className=\"w-full min-h-screen\" style={{ backgroundColor: \"rgb(88,128,115)\" }}>\n      <HomeNav />\n      <div className=\"container mx-auto p-4 pt-20\">\n        <h1 className=\"text-4xl text-white font-bold text-center mb-4\">\n          Your Visual Matches!\n        </h1>\n\n        {/* --- NEW SECTION: DISPLAY USER SKETCH --- */}\n        {userSketch && (\n          <div className=\"flex flex-col items-center mb-10\">\n            <h2 className=\"text-2xl text-white font-semibold mb-3\">Your Sketch</h2>\n            {/* We use a regular <img> tag here because the src is a dataURL string */}\n            <img\n              src={userSketch}\n              alt=\"User's original sketch\"\n              className=\"rounded-lg shadow-xl border-4 border-white\"\n              style={{ width: '300px', height: '300px' }} // Display it a bit smaller\n            />\n          </div>\n        )}\n        {/* --- END NEW SECTION --- */}\n\n\n        {isLoading && (\n          <p className=\"text-white text-center\">Loading results...</p>\n        )}\n\n        {!isLoading && results.length === 0 && (\n          <div className=\"text-center\">\n            <p className=\"text-white text-xl mb-4\">No results found.</p>\n            <Link href=\"/paint\">\n              <button className=\"bg-[rgb(76,101,112)] hover:bg-[rgb(106,132,146)] text-white text-xl font-semibold px-8 py-3 rounded-full shadow-lg\">\n                Try Painting Again\n              </button>\n            </Link>\n          </div>\n        )}\n\n        {!isLoading && results.length > 0 && (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {results.map((result) => (\n              <div\n                key={result.id}\n                className=\"bg-[rgb(106,132,146)] rounded-lg shadow-xl overflow-hidden\"\n              >\n                <div className=\"grid grid-cols-2\">\n                  {/* We must use a relative position container for Next.js Image */}\n                  <div className=\"relative w-full h-60\">\n                    <Image\n                      src={result.original_image_url}\n                      alt={`Original image of ${result.id}`}\n                      layout=\"fill\"\n                      objectFit=\"cover\"\n                    />\n                  </div>\n                  <div className=\"relative w-full h-60\">\n                    <Image\n                      src={result.segmentation_map_url}\n                      alt={`Segmentation map for ${result.id}`}\n                      layout=\"fill\"\n                      objectFit=\"cover\"\n                    />\n                  </div>\n                </div>\n                <div className=\"p-4 text-white\">\n                  <h3 className=\"text-lg font-semibold truncate\">{result.id}</h3>\n                  <p className=\"text-sm\">\n                    Match Score: {result.score}\n                  </p>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n\n        {/* Back button */}\n        <div className=\"text-center mt-12 mb-8\">\n          <Link href=\"/paint\">\n            <button className=\"bg-[rgb(235,199,148)] text-[rgb(32,74,65)] text-xl font-semibold px-8 py-3 rounded-full shadow-lg hover:bg-[rgb(216,175,87)] transition-all\">\n              ‚Üê Back to Painting\n            </button>\n          </Link>\n        </div>\n\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"AAAA,2BAA2B;;;;;;AAI3B;AACA;AACA,4NAAgC,qCAAqC;AACrE,uOAA6C,sBAAsB;AALnE;;;;;;AAee,SAAS;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAiB,EAAE;IACzD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAgB,OAAO,gBAAgB;IACnF,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAE3C,IAAA,kNAAS,EAAC;QACR,qDAAqD;QACrD,MAAM,gBAAgB,eAAe,OAAO,CAAC;QAC7C,MAAM,eAAe,eAAe,OAAO,CAAC,eAAe,UAAU;QAErE,IAAI,eAAe;YACjB,WAAW,KAAK,KAAK,CAAC;QACxB;QACA,IAAI,cAAc;YAChB,cAAc,eAAe,UAAU;QACzC;QACA,aAAa;IACf,GAAG,EAAE,GAAG,6DAA6D;IAErE,qBACE,8OAAC;QAAI,WAAU;QAAsB,OAAO;YAAE,iBAAiB;QAAkB;;0BAC/E,8OAAC,+IAAO;;;;;0BACR,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAiD;;;;;;oBAK9D,4BACC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAyC;;;;;;0CAEvD,8OAAC;gCACC,KAAK;gCACL,KAAI;gCACJ,WAAU;gCACV,OAAO;oCAAE,OAAO;oCAAS,QAAQ;gCAAQ;;;;;;;;;;;;oBAO9C,2BACC,8OAAC;wBAAE,WAAU;kCAAyB;;;;;;oBAGvC,CAAC,aAAa,QAAQ,MAAM,KAAK,mBAChC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAE,WAAU;0CAA0B;;;;;;0CACvC,8OAAC,uKAAI;gCAAC,MAAK;0CACT,cAAA,8OAAC;oCAAO,WAAU;8CAAqH;;;;;;;;;;;;;;;;;oBAO5I,CAAC,aAAa,QAAQ,MAAM,GAAG,mBAC9B,8OAAC;wBAAI,WAAU;kCACZ,QAAQ,GAAG,CAAC,CAAC,uBACZ,8OAAC;gCAEC,WAAU;;kDAEV,8OAAC;wCAAI,WAAU;;0DAEb,8OAAC;gDAAI,WAAU;0DACb,cAAA,8OAAC,wIAAK;oDACJ,KAAK,OAAO,kBAAkB;oDAC9B,KAAK,CAAC,kBAAkB,EAAE,OAAO,EAAE,EAAE;oDACrC,QAAO;oDACP,WAAU;;;;;;;;;;;0DAGd,8OAAC;gDAAI,WAAU;0DACb,cAAA,8OAAC,wIAAK;oDACJ,KAAK,OAAO,oBAAoB;oDAChC,KAAK,CAAC,qBAAqB,EAAE,OAAO,EAAE,EAAE;oDACxC,QAAO;oDACP,WAAU;;;;;;;;;;;;;;;;;kDAIhB,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAG,WAAU;0DAAkC,OAAO,EAAE;;;;;;0DACzD,8OAAC;gDAAE,WAAU;;oDAAU;oDACP,OAAO,KAAK;;;;;;;;;;;;;;+BAzBzB,OAAO,EAAE;;;;;;;;;;kCAkCtB,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,uKAAI;4BAAC,MAAK;sCACT,cAAA,8OAAC;gCAAO,WAAU;0CAA8I;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAS5K","debugId":null}}]
}